<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl">
  <title data-ice="title">API Document</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  
  
  <script src="script/manual.js"></script>
</head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
</header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-reportChanges">reportChanges</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-shouldUpdate">shouldUpdate</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-withPureRender">withPureRender</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getComponentName">getComponentName</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-Change">Change</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-external">E</span><span data-ice="name"><span><a href="https://facebook.github.io/react/docs/component-api.html">React.Component</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><div data-ice="index" class="github-markdown"><h1 id="react-update-helper">react-update-helper</h1>
<p>A <a href="https://facebook.github.io/react/">React</a> plugin to debug and accelerate your component updates.</p>
<p>It&apos;s compatible with <a href="https://github.com/visionmedia/debug">debug</a> and <a href="https://facebook.github.io/immutable-js/">Immutable</a>.</p>
<h2 id="goal">Goal</h2>
<p>This react plugin basically does two things:</p>
<ol>
<li><p>It helps you prevent useless component updates, thus improving your overall application performance.</p>
</li>
<li><p>It allows you to have a quick glimpse in why a component updated.</p>
</li>
</ol>
<p>The idea combines thoughts of the works of the React team on <a href="https://facebook.github.io/react/docs/pure-render-mixin.html">PureRenderMixin</a> and on a <a href="https://medium.com/@tjholowaychuk/debugging-value-changes-in-react-s-shouldcomponentupdate-ae59b05c5371#.xig19l2nh">post</a> about React prop/state change debugging.</p>
<h2 id="why-and-when-to-use-this-">Why and when to use this?</h2>
<p>There are a few use cases:</p>
<ul>
<li>You want to use Immutable objects as your props or state values.</li>
<li>You use Redux with Immutable state objects</li>
<li>You want to debug props and state changes.</li>
<li>Pair the component update logging with react-perf-addon to help busting performance issues.</li>
<li>...</li>
</ul>
<p>Still don&apos;t know if you need this? Take a look at the <a href="#usage">Usage</a> section.</p>
<h2 id="install">Install</h2>
<p>It currently needs three peerDependencies.</p>
<ul>
<li><a href="https://facebook.github.io/react/">React</a></li>
<li><a href="https://github.com/visionmedia/debug">debug</a></li>
<li><a href="https://facebook.github.io/immutable-js/">Immutable</a></li>
</ul>
<p>This module is currently available only on <a href="https://www.npmjs.com/">npm</a>.</p>
<p>Install with:</p>
<p><code>npm install react-update-helper --save</code></p>
<p>You are done, check the <a href="#usage">Usage</a> section to know how to use it.</p>
<p><strong>Why those peerDependencies?</strong></p>
<p><a href="https://facebook.github.io/react/">React</a> dependency is pretty obvious since this is a react plugin.</p>
<p><a href="https://facebook.github.io/immutable-js/">Immutable</a> is an optional choice but you might already be using it so there is no reason to duplicate the versions since this module just need the <a href="https://facebook.github.io/immutable-js/docs/#/is">is()</a> function of the <code>immutable</code> package.</p>
<p>Even if you are not using Immutable on your own, most modern build systems like <code>webpack v2</code> or <code>rollup</code> will isolate the tiny bit of code this module need to operate.</p>
<p>As for <a href="https://github.com/visionmedia/debug">debug</a>, if you use it we don&apos;t duplicate code and if you don&apos;t it&apos;s a really tiny addition that allows you to turn console logging on/off and avoid the component update logging madness that happen in big apps.</p>
<h2 id="-a-href-id-usage-a-usage"><a href="#" id="usage"></a>Usage</h2>
<p>The package exposes two functions that you can use:</p>
<ul>
<li><code>shouldUpdate</code>, the core update engine with Immutable support.</li>
<li><code>withPureRender</code>, the easy plug-and-play function with debug support.</li>
</ul>
<h4 id="withpurerender-component-">withPureRender(Component)</h4>
<p>The easiest way to get all the goods is using <code>withPureRender</code>.</p>
<p>You can use it as a <a href="https://medium.com/@dan_abramov/mixins-are-dead-long-live-higher-order-components-94a0d2f9e750#.g1hqmwlh4">high order component</a>:</p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">// Use react
import React from &apos;react&apos;;

// Use withPureRender
import { withPureRender } from &apos;react-update-helper&apos;;

// Create the component
class Greet extends React.Component {
  render() {
    return &lt;div&gt;Hello {this.props.greet}!&lt;/div&gt;;
  }
}

// Enhance the Greet with withPureRender and export it
export default withPureRender(Greet);</code>
</code></pre>
<p>You can use it as a ES7 decorator:</p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">// Use react
import React from &apos;react&apos;;

// Use withPureRender
import { withPureRender } from &apos;react-update-helper&apos;;

// Create the enhanced component
@withPureRender
class Greet extends React.Component {
  render() {
    return &lt;div&gt;Hello {this.props.greet}!&lt;/div&gt;;
  }
}

// Export the already enhanced Greet
export default Greet;</code>
</code></pre>
<p>It works with <a href="https://facebook.github.io/react/docs/reusable-components.html#stateless-functions">pure components</a> too:</p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">// Use react
import React from &apos;react&apos;;

// Use withPureRender
import { withPureRender } from &apos;react-update-helper&apos;;

// Create the component
function Greet({ greet }) {
  return &lt;div&gt;Hello {greet}!&lt;/div&gt;;
}

// Enhance the Greet with withPureRender and export it
export default withPureRender(Greet);</code>
</code></pre>
<h4 id="shouldupdate-componentcontext-nextprops-nextstate-">shouldUpdate(componentContext, nextProps, nextState)</h4>
<p>You can use the <code>shouldUpdate</code> function directly if you need to, like if you have more stuff to check when updating your component to improve performance.</p>
<p>Quick example of dening the greet prop value to change to falsy values while also maintaining the same value check with <code>shouldUpdate</code>:</p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">// Use react
import React from &apos;react&apos;;

// Use shouldUpdate
import { shouldUpdate } from &apos;react-update-helper&apos;;

// Create the component
class Greet extends React.Component {

  shouldComponentUpdate(nextProps, nextState) {
    // Ignore change to falsy value
    if (!!nextProps.greet) return false;
    // Will only return true when stuff changes, even with Immutable objects
    return shouldUpdate(this, nextProps, nextState);
  }

  render() {
    return &lt;div&gt;Hello {this.props.greet}!&lt;/div&gt;;
  }
}

// Just export Greet
export default Greet;</code>
</code></pre>
<h3 id="optimized-in-production">Optimized in production</h3>
<p>As React does, we disable any debug code when performing a production build.</p>
<p>Just make sure you are building setting environment variable <code>NODE_ENV</code> to <code>production</code> value and performing dead code elimination.</p>
<p>The concerns are the same as if you were building React for production usage in the first place.</p>
<p>If you use <a href="https://webpack.github.io/">Webpack</a>, <a href="http://moduscreate.com/optimizing-react-es6-webpack-production-build/">here</a> is a nice guide.</p>
<h2 id="compatibility">Compatibility</h2>
<p>Compatibility with <a href="https://facebook.github.io/react/">React</a>, <a href="https://facebook.github.io/immutable-js/">Immutable</a> and <a href="https://github.com/visionmedia/debug">debug</a> have been tested and should be maintained.</p>
<p>Though not tested, it should work with <a href="https://facebook.github.io/react-native/">react-native</a> since it does not mess with DOM and browser specific APIs.</p>
<p>It can theorically work with <a href="https://github.com/developit/preact">preact</a> when using <a href="https://github.com/developit/preact-compat">preact-compat</a> since it mimics React&apos;s API and lifecycle.</p>
<h2 id="contributing">Contributing</h2>
<p>This project is welcoming contributions of any kind! Here are some cool topics to get started:</p>
<ul>
<li>[ ] Can we make this README better?</li>
<li>[ ] Improvements in the test suite.</li>
<li>[ ] Improvements in the documentation.</li>
<li>[ ] Updates in stale dependencies without breaking anything :smirk:</li>
</ul>
<p>Please, before filing issues or sending PRs, read the <a href="CONTRIBUTING.md">CONTRIBUTING</a> guide.</p>
<h2 id="license">License</h2>
<p><a href="LICENSE">MIT</a></p>
</div>
</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(0.4.7)</span></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
